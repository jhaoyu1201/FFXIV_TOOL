<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFXIV å·¨é›†æŒ‡ä»¤ç”¢ç”Ÿå™¨ (v10.1)</title>
    <style>
        /* 1. CSS è®Šæ•¸èˆ‡åŸºç¤æ¨£å¼ (æ²¿ç”¨ v10.0) */
        :root {
            --bg-color-base: #f4f7f9; --pulse-color: #dbeaff; --text-color: #333;
            --container-bg: #fff; --border-color: #e0e0e0; --input-bg: #f9f9f9;
            --primary-color: #1e88e5; --copy-button-bg: #f44336; --main-button-bg: #4CAF50;
        }
        body[data-theme="dark"] {
            --bg-color-base: #222831; --pulse-color: #1a1e26; --text-color: #eeeeee;
            --container-bg: #393e46; --border-color: #4f5358; --input-bg: #4a4e54;
            --primary-color: #00adb5; --copy-button-bg: #ff9a3c; --main-button-bg: #764BA2;
        }
        body[data-theme="pink"] {
            --bg-color-base: #fff0f5; --pulse-color: #ffe0ee; --text-color: #5d3954; 
            --container-bg: #ffffff; --border-color: #ffc0cb; --input-bg: #ffe0ee;
            --primary-color: #ff69b4; --copy-button-bg: #e91e63; --main-button-bg: #ff80a6;
        }

        @keyframes breathe {
            0% { background-color: var(--bg-color-base); }
            50% { background-color: var(--pulse-color); }
            100% { background-color: var(--bg-color-base); }
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-color); line-height: 1.6; padding: 20px;
            max-width: 900px; margin: 0 auto; background-color: var(--bg-color-base);
            animation: breathe 10s ease-in-out infinite; transition: color 0.3s;
        }
        
        .container {
            background: var(--container-bg); padding: 30px; border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); transition: background-color 0.3s;
        }
        
        h3 { color: var(--primary-color); border-bottom: 2px solid var(--border-color); padding-bottom: 10px; margin-top: 25px; }
        .macro-section { padding: 20px 0; margin-bottom: 30px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; }
        input[type="text"], input[type="number"], select {
            width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid var(--border-color);
            border-radius: 6px; box-sizing: border-box; background-color: var(--input-bg); color: var(--text-color);
        }
        .countdown-container { border: 1px solid var(--border-color); padding: 15px; border-radius: 8px; margin-bottom: 20px; background-color: var(--input-bg); }
        button { background-color: var(--main-button-bg); color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; margin-top: 10px; transition: 0.3s; }
        button:hover:not(:disabled) { filter: brightness(1.1); }
        button:disabled { background-color: #b0c4de; cursor: not-allowed; }
        textarea { width: 100%; padding: 10px; margin-top: 10px; border-radius: 6px; background-color: var(--input-bg); color: var(--text-color); font-family: monospace; resize: vertical; }
        .copy-button { background-color: var(--copy-button-bg); }
        
        /* æç¤ºæ¡†æ¨£å¼ */
        .info-box { background: rgba(0,0,0,0.05); padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9em; border-left: 4px solid var(--primary-color); }
        .tip-box { background: rgba(255, 193, 7, 0.1); padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85em; border-left: 4px solid #ffc107; color: var(--text-color); }
    </style>
</head>
<body data-theme="light"> 

    <div class="container">
        <div class="theme-selector" style="margin-bottom: 20px; border-bottom: 1px solid var(--border-color); padding-bottom: 10px;">
            <label for="themeSelector" style="display: inline; margin-right: 15px;">ğŸ¨ é¸æ“‡ UI é¢¨æ ¼ï¼š</label>
            <select id="themeSelector" style="width: auto; display: inline-block;">
                <option value="light">ä¸€èˆ¬æ¨¡å¼</option>
                <option value="dark">æ·±è‰²æ¨¡å¼</option>
                <option value="pink">ç²‰è‰²æ¨¡å¼</option>
            </select>
        </div>

        <h1>ğŸ› ï¸ FFXIV å·¨é›†æŒ‡ä»¤ç”¢ç”Ÿå™¨</h1>
        <p>æœ¬å·¥å…·æ—¨åœ¨å„ªåŒ–æ‚¨çš„éŠæˆ²æ‰‹æ„Ÿï¼Œç‰¹åˆ¥é‡å°å»¶é²è£œå„Ÿèˆ‡ç„¦é»ç®¡ç†ã€‚</p>

        <hr>

        <div class="macro-section">
            <h3>ğŸ¯ ç„¦é»ç›®æ¨™ (Focus Target) å°ˆå€</h3>
            <div class="info-box">
                <strong>ğŸ’¡ ä»€éº¼æ˜¯ç„¦é»ç›®æ¨™ï¼Ÿ</strong><br>
                å°‡ BOSS æˆ–ç‰¹å®šéšŠå‹è¨­ç‚ºç„¦é»ï¼ˆFocusï¼‰ï¼Œå³ä½¿ç•¶å‰ç›®æ¨™åœ¨æ”»æ“Šå…¶ä»–å°æ€ªï¼Œä¹Ÿèƒ½é€éæ­¤å·¨é›†å¿«é€Ÿå°ã€Œç„¦é»ã€ç™¼å‹•æŠ€èƒ½ï¼ˆå¦‚æ‰“æ–·æŠ€æˆ–æ¸›å‚·ï¼‰ã€‚
            </div>

            <label>æ­¥é©Ÿ 1ï¼šå¿«é€Ÿè¨­å®šç„¦é»å·¨é›†</label>
            <div class="countdown-container">
                <p style="margin-top:0; font-size: 0.9em; opacity: 0.8;">ç”¨æ³•ï¼šæ»‘é¼ æŒ‡å‘ç›®æ¨™æŒ‰æ­¤éµï¼Œå³è¨­ç‚ºç„¦é»ã€‚</p>
                <textarea id="focusSetupMacro" rows="2" readonly>/focustarget <mo>
/e ç„¦é»ç›®æ¨™å·²æ›´æ–° â” <f> <se.15></textarea>
                <button onclick="copyToClipboard('focusSetupMacro', 'copySetupBtn')" id="copySetupBtn" class="copy-button">è¤‡è£½è¨­å®šæŒ‡ä»¤</button>
            </div>

            <label for="focusSkillName">æ­¥é©Ÿ 2ï¼šç”Ÿæˆã€Œç„¦é»å„ªå…ˆã€æŠ€èƒ½å·¨é›†</label>
            <input type="text" id="focusSkillName" placeholder="ä¾‹å¦‚ï¼šå‚·æ®˜, æ’æ§½æŠ€èƒ½, æ•‘ç™‚" oninput="generateFocusMacro()">
            
            <div class="tip-box">
                <strong>âš ï¸ æ‰‹æ„Ÿæé†’ï¼š</strong><br>
                ç‚ºè£œå„Ÿå»¶é²ï¼Œç”¢ç”Ÿçš„å·¨é›†åŒ…å«é‡è¤‡æŒ‡ä»¤ã€‚æ–½æ”¾æ™‚è«‹ä¿æŒå¹³å¸¸ç¯€å¥ï¼ˆæŒ‰ 1-2 ä¸‹å³å¯ï¼‰ï¼Œéåº¦ç‹‚æŒ‰å·¨é›†å¯èƒ½æœƒå°è‡´å¾®å°çš„å‹•ç•«ç¡¬ç›´ï¼ˆå¡ GCDï¼‰ã€‚
            </div>

            <p style="font-style: italic; opacity: 0.7; margin-top: 15px; font-size: 0.9em;">ç”Ÿæˆçµæœï¼š</p>
            <textarea id="focusMacroOutput" rows="6" readonly></textarea>
            <button onclick="copyToClipboard('focusMacroOutput', 'copyFocusButton')" id="copyFocusButton" class="copy-button" disabled>è¤‡è£½æŒ‡ä»¤</button>
        </div>

        </div>

    <script>
        function copyToClipboard(elementId, buttonId) {
            const copyText = document.getElementById(elementId);
            const button = document.getElementById(buttonId);
            const originalText = button.textContent;
            copyText.select();
            navigator.clipboard.writeText(copyText.value).then(() => {
                button.textContent = 'âœ… å·²è¤‡è£½ï¼';
                setTimeout(() => { button.textContent = originalText; }, 2000);
            });
        }

        function generateFocusMacro() {
            const skill = document.getElementById('focusSkillName').value.trim();
            const output = document.getElementById('focusMacroOutput');
            const btn = document.getElementById('copyFocusButton');
            
            if (!skill) {
                output.value = ''; btn.disabled = true; return;
            }
            
            let macro = `/micon ${skill}\n/merror off\n`;
            // é‡è¤‡ä¸‰æ¬¡ä»¥å°æŠ—å»¶é²ï¼Œæé«˜ã€Œå¡é€² GCD ç¸«éš™ã€çš„æ©Ÿç‡
            macro += `/ac ${skill} <f>\n/ac ${skill} <f>\n/ac ${skill} <f>\n`;
            macro += `/ac ${skill} <t>`;
            
            output.value = macro.trim();
            btn.disabled = false;
        }

        // ä¸»é¡Œåˆ‡æ›é‚è¼¯
        document.getElementById('themeSelector').addEventListener('change', function() {
            document.body.setAttribute('data-theme', this.value);
            localStorage.setItem('ffxivMacroTheme', this.value);
        });

        window.addEventListener('load', () => {
            const saved = localStorage.getItem('ffxivMacroTheme') || 'light';
            document.body.setAttribute('data-theme', saved);
            document.getElementById('themeSelector').value = saved;
        });
    </script>
</body>
</html>